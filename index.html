import React, { useState, useEffect } from "react";

export default function TopScrolling() {
  const [posts, setPosts] = useState([]);
  const [stories, setStories] = useState([]);

  useEffect(() => {
    // Fake posts (you can replace with API later)
    const dummyPosts = [
      {
        id: 1,
        user: "yash_sharma",
        image: "https://source.unsplash.com/random/600x800?city",
        likes: 120,
        caption: "Exploring the city âœ¨",
      },
      {
        id: 2,
        user: "tech_world",
        image: "https://source.unsplash.com/random/600x800?technology",
        likes: 98,
        caption: "New innovations coming soon! ğŸ’¡",
      },
      {
        id: 3,
        user: "nature_snap",
        image: "https://source.unsplash.com/random/600x800?nature",
        likes: 256,
        caption: "Peaceful mornings ğŸŒ¿",
      },
    ];

    const dummyStories = [
      { id: 1, name: "yash", img: "https://source.unsplash.com/random/200x200?face" },
      { id: 2, name: "aarav", img: "https://source.unsplash.com/random/200x200?person" },
      { id: 3, name: "ria", img: "https://source.unsplash.com/random/200x200?girl" },
      { id: 4, name: "tech", img: "https://source.unsplash.com/random/200x200?developer" },
      { id: 5, name: "travel", img: "https://source.unsplash.com/random/200x200?travel" },
    ];

    setPosts(dummyPosts);
    setStories(dummyStories);
  }, []);

  return (
    <div className="bg-gray-50 min-h-screen text-gray-800 font-sans">
      {/* Header */}
      <header className="flex justify-between items-center px-4 py-3 bg-white shadow">
        <h1 className="text-2xl font-bold text-pink-600">TopScrolling</h1>
        <div className="flex gap-4">
          <button className="text-xl">â¤ï¸</button>
          <button className="text-xl">ğŸ’¬</button>
          <button className="text-xl">â•</button>
        </div>
      </header>

      {/* Stories */}
      <div className="flex overflow-x-auto gap-4 px-3 py-3 bg-white shadow-sm">
        {stories.map((story) => (
          <div key={story.id} className="flex flex-col items-center min-w-[70px]">
            <img
              src={story.img}
              alt={story.name}
              className="w-16 h-16 rounded-full border-2 border-pink-500 object-cover"
            />
            <p className="text-xs mt-1">{story.name}</p>
          </div>
        ))}
      </div>

      {/* Feed */}
      <main className="flex flex-col items-center mt-4">
        {posts.map((post) => (
          <div
            key={post.id}
            className="bg-white shadow-md rounded-lg mb-6 w-[90%] max-w-md"
          >
            <div className="flex items-center px-3 py-2">
              <img
                src={`https://source.unsplash.com/random/100x100?profile-${post.user}`}
                alt={post.user}
                className="w-10 h-10 rounded-full object-cover"
              />
              <span className="ml-3 font-semibold">{post.user}</span>
            </div>
            <img
              src={post.image}
              alt="Post"
              className="w-full h-[400px] object-cover"
            />
            <div className="px-3 py-2">
              <div className="flex gap-3 text-2xl">
                <span>â¤ï¸</span>
                <span>ğŸ’¬</span>
                <span>ğŸ“¤</span>
              </div>
              <p className="text-sm font-semibold mt-1">
                {post.likes} likes
              </p>
              <p className="text-sm mt-1">
                <span className="font-semibold">{post.user}</span> {post.caption}
              </p>
            </div>
          </div>
        ))}
      </main>
    </div>
  );
}
